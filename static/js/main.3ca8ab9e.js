"use strict";(window.webpackChunktodolist=window.webpackChunktodolist||[]).push([[179],{33413:function(t,o,e){e.d(o,{Z:function(){return N}});var n=e(5820),s=e(59496),i=e(18031),d=(e(71024),e(56177)),c=e(4637);var l=function(t){var o=t.handleNewTodoChange,e=t.handleNewTodo,n=t.newTodo;return(0,c.jsxs)("header",{className:"todos-header",children:[(0,c.jsx)("h1",{children:"todos"}),(0,c.jsx)(d.Z,{className:"new-todo",placeholder:"What needs to be done?",type:"text",autoFocus:!0,onKeyDown:e,value:n,onChange:o})]})},a=(e(35404),e(78426)),u=e(48405),r=e(84053),h=e(386);function f(t){var o=t.todo,e=t.delTodo,i=t.completeTodo,l=t.editContent,f=s.useState(o.content),m=(0,n.Z)(f,2),p=m[0],v=m[1];return(0,c.jsxs)("li",{onClick:function(){i(o)},className:o.editing?"editing":"",children:[(0,c.jsx)("div",{className:"complete"}),(0,c.jsxs)("div",{className:"todo",children:[(0,c.jsx)("div",{className:"content",children:(0,c.jsx)("label",{className:o.state?"completed":"",children:o.content})}),(0,c.jsxs)("div",{className:"del",children:[(0,c.jsx)(a.Z,{icon:(0,c.jsx)(u.Z,{}),onClick:function(t){o.editing=!0,v(o.content)}}),(0,c.jsx)(a.Z,{icon:(0,c.jsx)(r.Z,{}),onClick:function(){return e(o)}})]})]}),(0,c.jsx)(d.Z,{className:"edit",autoFocus:!0,value:p,onChange:function(t){v(t.target.value)}}),(0,c.jsx)(a.Z,{icon:(0,c.jsx)(h.Z,{}),className:"edit-btn",onClick:function(t){l(o,p),t.stopPropagation()}})]})}var m=function(t){var o=t.todos,e=t.delTodo,n=t.completeTodo,s=t.completeAll,i=t.editContent;return(0,c.jsxs)("section",{className:"todos-main",children:[(0,c.jsx)("div",{className:"complete-all",onClick:s,children:"\u276f"}),(0,c.jsx)("ul",{children:o.map((function(t){return(0,c.jsx)(f,{todo:t,delTodo:e,completeTodo:n,editContent:i},t.id)}))})]})};var p=function(t){var o=t.activeAccount;return o+t.Account>0?(0,c.jsxs)("footer",{className:"todos-footer",children:[(0,c.jsxs)("span",{children:[o," items left"]}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#/",children:"All"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#/Active",children:"Active"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#/Completed",children:"Completed"})})]})]}):null},v=e(82175),x=e(34941),j=e(27537),g=e(43293),T=new(function(){function t(){(0,x.Z)(this,t),(0,g.Z)(this,"todos",void 0),this.todos=localStorage.todos?JSON.parse(localStorage.todos):[],this.todos.length>0&&this.todos.forEach((function(t){t.editing=!1}))}return(0,j.Z)(t,[{key:"updateList",value:function(){localStorage.setItem("todos",JSON.stringify(this.todos))}},{key:"addNewTodo",value:function(t){this.todos.push({id:Math.random().toString(16),content:t,state:!1,editing:!1}),this.updateList()}},{key:"delTodo",value:function(t){this.todos=this.todos.filter((function(o){return o!==t})),this.updateList()}},{key:"completeTodo",value:function(t){this.todos=this.todos.map((function(o){return o!==t?o:(0,v.Z)((0,v.Z)({},o),{},{state:!o.state})})),this.updateList()}},{key:"editTodo",value:function(t,o){this.todos=this.todos.map((function(e){return e!==t?e:(0,v.Z)((0,v.Z)({},e),{},{content:o,editing:!1})})),this.updateList()}},{key:"completeAll",value:function(t){this.todos=this.todos.map((function(o){return(0,v.Z)((0,v.Z)({},o),{},{state:t})})),this.updateList()}}]),t}());var N=function(){var t=s.useState(""),o=(0,n.Z)(t,2),e=o[0],d=o[1],a=s.useState(""),u=(0,n.Z)(a,2),r=u[0],h=u[1],f=s.useState(T.todos),v=(0,n.Z)(f,2),x=(v[0],v[1]),j=(0,i.TH)().hash,g=T.todos;return"Active"==r?g=g.filter((function(t){return 0==t.state})):"Completed"==r&&(g=g.filter((function(t){return 1==t.state}))),s.useEffect((function(){j.includes("Active")?h("Active"):j.includes("Completed")?h("Completed"):h("")}),[j]),s.useEffect((function(){g=T.todos}),[T.todos]),(0,c.jsxs)("div",{className:"container-box",children:[(0,c.jsx)(l,{handleNewTodoChange:function(t){d(t.target.value)},handleNewTodo:function(t){"Enter"!==t.code||e.length<=0||(T.addNewTodo(e),d(""))},newTodo:e}),(0,c.jsx)(m,{todos:g,delTodo:function(t){T.delTodo(t),x(T.todos)},completeTodo:function(t){T.completeTodo(t),x(T.todos)},completeAll:function(){var t=T.todos.filter((function(t){return!1===t.state})).length>0;T.completeAll(t),x(T.todos)},editContent:function(t,o){T.editTodo(t,o),x(T.todos)}}),(0,c.jsx)(p,{Account:T.todos.length,activeAccount:T.todos.filter((function(t){return 0==t.state})).length})]})}}},function(t){var o=function(o){return t(t.s=o)};t.O(0,[956],(function(){return o(20843),o(96730)}));t.O()}]);
//# sourceMappingURL=main.3ca8ab9e.js.map